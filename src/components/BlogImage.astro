---
import type { RemoteImageProps } from "astro:assets";
import type { LocalImageProps } from "astro:assets";
import { Image } from "astro:assets";
import ImageZoom from "./react/ImageZoom";

type Props = (LocalImageProps | RemoteImageProps) & {
  priority?: boolean;
};

const { priority = false, ...imageProps } = Astro.props;
---

<figure class="xl:-ml-16">
  <ImageZoom className="not-prose" client:visible>
    <Image 
      {...imageProps} 
      class="rounded-xl" 
      loading={priority ? "eager" : "lazy"}
      decoding="async"
    />
  </ImageZoom>
  <figcaption class="flex justify-center text-center">
    {imageProps.alt}
  </figcaption>
</figure>
