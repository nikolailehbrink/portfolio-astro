---
export const prerender = false;

import { AI_CHAT_MESSAGE_LIMIT } from "@/consts";
import RootLayout from "@/layouts/RootLayout.astro";
import ChatWrapper from "@/components/react/chat/ChatWrapper.tsx";

const messageCount = Astro.cookies.get("message_count")?.number() ?? 0;
const disableChat = messageCount >= AI_CHAT_MESSAGE_LIMIT;
---

<RootLayout>
  <ChatWrapper isChatDisabled={disableChat} client:load />
</RootLayout>
